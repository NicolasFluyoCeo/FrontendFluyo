(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},2101:(e,t,a)=>{"use strict";a.d(t,{O:()=>u,A:()=>d});var s=a(5155),r=a(2115),o=a(3464);let n="http://localhost:8000/api",l={async login(e){let t=new URLSearchParams;return t.append("grant_type","password"),t.append("username",e.username),t.append("password",e.password),t.append("scope",""),t.append("client_id","string"),t.append("client_secret","string"),(await o.A.post("".concat(n,"/auth/login"),t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data},refreshToken:async e=>(await o.A.post("".concat(n,"/auth/refresh"),{refresh_token:e},{headers:{"Content-Type":"application/json"}})).data,setTokens(e,t){localStorage.setItem("access_token",e),localStorage.setItem("refresh_token",t)},getTokens:()=>({access_token:localStorage.getItem("access_token"),refresh_token:localStorage.getItem("refresh_token")}),clearTokens(){localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token")},isAuthenticated:()=>!!localStorage.getItem("access_token")};var c=a(5695);let i=(0,r.createContext)(void 0);function u(e){let{children:t}=e,[a,o]=(0,r.useState)(!1),n=(0,c.useRouter)();(0,r.useEffect)(()=>{o(l.isAuthenticated())},[]);let u=async(e,t)=>{try{let a=await l.login({username:e,password:t});l.setTokens(a.access_token,a.refresh_token),o(!0),n.push("/dashboard")}catch(e){throw console.error("Login failed:",e),e}};return(0,s.jsx)(i.Provider,{value:{isAuthenticated:a,login:u,logout:()=>{l.clearTokens(),o(!1),n.push("/login")}},children:t})}function d(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2926:(e,t,a)=>{"use strict";a.d(t,{Providers:()=>o});var s=a(5155),r=a(2101);function o(e){let{children:t}=e;return(0,s.jsx)(r.O,{children:t})}},5476:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var s=a(5155),r=a(2115);function o(e){let{children:t}=e;return(0,r.useEffect)(()=>{document.body.className="antialiased"},[]),(0,s.jsx)("div",{className:"antialiased",suppressHydrationWarning:!0,children:t})}},5695:(e,t,a)=>{"use strict";var s=a(8999);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},7933:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,8050,23)),Promise.resolve().then(a.t.bind(a,8609,23)),Promise.resolve().then(a.bind(a,5476)),Promise.resolve().then(a.t.bind(a,347,23)),Promise.resolve().then(a.bind(a,2926))},8050:e=>{e.exports={style:{fontFamily:"'Outfit', 'Outfit Fallback'",fontStyle:"normal"},className:"__className_ad50fd",variable:"__variable_ad50fd"}},8609:e=>{e.exports={style:{fontFamily:"'Darker Grotesque', 'Darker Grotesque Fallback'",fontStyle:"normal"},className:"__className_b83043",variable:"__variable_b83043"}}},e=>{var t=t=>e(e.s=t);e.O(0,[629,464,441,684,358],()=>t(7933)),_N_E=e.O()}]);